<Page xmlns="http://schemas.nativescript.org/tns.xsd"
  class="page" loaded="onLoaded"
  xmlns:pe="nativescript-particle-emitter">
  <GridLayout class="p-20" columns="2* *" backgroundColor="lightgreen">
    <StackLayout col="1">
      <Button text="change colors" tap="selectNextPalette" />
      <Button text="load test" tap="loadTest" />
        
    </StackLayout>

    <StackLayout verticalAlignment="top">
      <StackLayout orientation="horizontal">
        <Label text="emitting" />
        <Switch checked="{{ isEmitting }}" />
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="debug" textWrap="true" />
        <Switch checked="{{ showDebugElement }}" />
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="duration" />
        <Slider minValue="300" maxValue="1500" value="{{ duration }}" width="100" />
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="areaWidth" />
        <Slider minValue="1" maxValue="200" value="{{ areaWidth }}" width="100" />
      </StackLayout>
      
      <StackLayout orientation="horizontal">
        <Label text="areaHeight" />
        <Slider minValue="1" maxValue="200" value="{{ areaHeight }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="emitBatch" />
        <Slider minValue="1" maxValue="5" value="{{ emitBatch }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="interval" />
        <Slider minValue="30" maxValue="500" value="{{ interval }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="velocity" />
        <Slider minValue="20" maxValue="200" value="{{ velocity }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="velocityVariation" />
        <Slider minValue="0" maxValue="50" value="{{ velocityVariation }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="emitDirection" />
        <Slider minValue="0" maxValue="360" value="{{ emitDirection }}" width="100"/>
      </StackLayout>

      <StackLayout orientation="horizontal">
        <Label text="emitDirectionVariation" />
        <Slider minValue="0" maxValue="180" value="{{ emitDirectionVariation }}" width="100"/>
      </StackLayout>

      
    </StackLayout>


    <pe:ParticleEmitter id="pe" backgroundColor="white" colSpan="2"
      verticalAlignment="bottom"
      margin="10" height="300" width="100%" 
      touch="onTouch" showDebugElement="{{ showDebugElement }}"
      isEmitting="{{ isEmitting }}"
      x="{{x}}" y="{{y}}" 
      duration="{{ duration }}"
      areaWidth="{{ areaWidth }}"
      areaHeight="{{ areaHeight }}"
      emitBatch="{{ emitBatch }}" 
      interval="{{ interval }}"  
      velocity="{{ velocity }}"  
      velocityVariation="{{ velocityVariation }}"  
      emitDirection="{{ emitDirection }}"  
      emitDirectionVariation="{{ emitDirectionVariation }}" 
      colorPalette="{{ colorPalette }}"
      />

    <StackLayout horizontalAlignment="right" verticalAlignment="bottom" tap="resetFps" margin="10">
        <Label text="{{ fps }}" fontSize="10" />
        <Label text="{{ minfps }}" fontSize="10" />
    </StackLayout>
    
  </GridLayout>
</Page>